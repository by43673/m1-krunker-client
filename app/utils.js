"use strict";
var l=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var m=(t,e)=>{for(var n in e)l(t,n,{get:e[n],enumerable:!0})},S=(t,e,n,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of p(e))!h.call(t,r)&&r!==n&&l(t,r,{get:()=>e[r],enumerable:!(s=f(e,r))||s.enumerable});return t};var x=t=>S(l({},"__esModule",{value:!0}),t);var M={};m(M,{createElement:()=>T,debounce:()=>w,hasOwn:()=>C,haveSameContents:()=>E,hiddenClassesImages:()=>y,injectSettingsCSS:()=>b,repoID:()=>$,secondsToTimestring:()=>O,toggleSettingCSS:()=>g,userscriptToggleCSS:()=>j});module.exports=x(M);var a=require("electron"),u=require("./preload");const c={},b=(t,e="settings")=>{a.webFrame.insertCSS(t)},C=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),$="KraXen72/crankshaft";function T(t,e={}){const n=document.createElement(t);return Object.entries(e).forEach(([s,r])=>{if(s==="class"){Array.isArray(r)?r.forEach(o=>{n.classList.add(o)}):n.classList.add(r);return}if(s==="dataset"){Object.entries(r).forEach(o=>{const[i,d]=o;n.dataset[i]=d});return}if(s==="text"){n.textContent=r;return}if(s==="innerHTML"){n.innerHTML=r;return}n.setAttribute(s,r)}),n}function g(t,e,n="toggle"){function s(){c[e]=a.webFrame.insertCSS(t)}function r(){try{a.webFrame.removeInsertedCSS(c[e]),delete c[e]}catch(o){u.strippedConsole.error("couldn't uninject css: ",o)}}n==="toggle"?e in c?r():s():!(e in c)&&n===!0?s():e in c&&n===!1&&r()}function j(t,e,n="toggle"){["menuTimer","hideAds","hideReCaptcha"].includes(e)?u.strippedConsole.error(`identifier '${e}' is reserved by crankshaft. Try something else.`):g(t,e,n)}function w(t,e=300){let n;return(...s)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(this,s)},e)}}function y(t){const e="menuClassPicker0".slice(0,-1),n=4*(t-1),s=Math.round((810-n)/t),r=Math.min(s,50);let o=`#hiddenClasses [id^="menuClassPicker"] {
		width: ${r}px; height: ${r}px;
		background-size: ${r-6}px ${r-6}px; 
	}
`;for(let i=0;i<t;i++)o+=`#${e}${i} { background-image: url("https://assets.krunker.io/textures/classes/icon_${i}.png"); } 
`;return o}function O(t){const e=Math.floor(t/60),n=t%60;return e<1?`${t}s`:`${e}m ${n}s`}function E(t,e){for(const n of new Set([...t,...e]))if(t.filter(s=>s===n).length!==e.filter(s=>s===n).length)return!1;return!0}0&&(module.exports={createElement,debounce,hasOwn,haveSameContents,hiddenClassesImages,injectSettingsCSS,repoID,secondsToTimestring,toggleSettingCSS,userscriptToggleCSS});
